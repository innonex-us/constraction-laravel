@import 'tailwindcss';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    /* Use Outfit everywhere for consistency */
    --font-sans: 'Outfit', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
        'Segoe UI Symbol', 'Noto Color Emoji';
}

/* Consistent sizing for brand logos */
.site-logo { height: 36px; width: auto; display: block }
.site-logo--footer { height: 40px; width: auto; display: block }

/* Fixed sizing for Certifications & Affiliations logos */
.badge-logo { height: 28px; width: auto; object-fit: contain; display: block }

/* THEME: Map common emerald/sky Tailwind utilities to admin-defined colors */
/* Text colors */
.text-emerald-300 { color: var(--brand) !important }
.hover\:text-emerald-300:hover { color: var(--brand) !important }
.text-emerald-200 { color: color-mix(in oklab, var(--brand) 85%, white) !important }
.hover\:text-emerald-200:hover { color: color-mix(in oklab, var(--brand) 85%, white) !important }

/* Backgrounds */
.bg-emerald-500 { background-color: var(--brand) !important }
.hover\:bg-emerald-400:hover { background-color: color-mix(in oklab, var(--brand) 90%, white) !important }
.bg-emerald-500\/10 { background-color: color-mix(in oklab, var(--brand) 10%, transparent) !important }
.hover\:bg-emerald-500\/20:hover { background-color: color-mix(in oklab, var(--brand) 20%, transparent) !important }

/* Borders */
.border-emerald-500\/30 { border-color: color-mix(in oklab, var(--brand) 30%, transparent) !important }
.border-emerald-400 { border-color: color-mix(in oklab, var(--brand) 70%, white) !important }

/* Gradients */
.from-emerald-500\/10 {
  --tw-gradient-from: color-mix(in oklab, var(--brand) 10%, transparent) var(--tw-gradient-from-position);
  --tw-gradient-to: color-mix(in oklab, var(--brand) 0%, transparent) var(--tw-gradient-to-position);
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);
}
.to-sky-500\/10 {
  --tw-gradient-to: color-mix(in oklab, var(--brand-2) 10%, transparent) var(--tw-gradient-to-position) !important;
}

/* Homepage micro-animations */
@keyframes marquee {
    0% { transform: translateX(0) }
    100% { transform: translateX(-50%) }
}

.marquee { overflow: hidden; mask-image: linear-gradient(to right, transparent, #000 10%, #000 90%, transparent) }
.marquee-track { display: inline-flex; gap: 2.5rem; animation: marquee 30s linear infinite }
.marquee-track:hover { animation-play-state: paused }

.shine-border { position: relative }
.shine-border::before {
    content: '';
    position: absolute; inset: 0; border-radius: 16px; padding: 1px;
    background: linear-gradient(90deg, color-mix(in oklab, var(--brand) 60%, transparent), color-mix(in oklab, var(--brand-2) 60%, transparent));
    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask-composite: xor; mask-composite: exclude;
}

/* Construction-themed UI helpers */
.blueprint { position: relative }
.blueprint::before {
  content: '';
  position: absolute; inset: 0; pointer-events: none;
  background-image:
    linear-gradient(to right, color-mix(in oklab, var(--brand) 20%, transparent) 1px, transparent 1px),
    linear-gradient(to bottom, color-mix(in oklab, var(--brand) 16%, transparent) 1px, transparent 1px);
  background-size: 32px 32px, 32px 32px;
  opacity: .18;
}

.hazard-tape { height: 8px; background:
  repeating-linear-gradient(-45deg, #fbbf24 0 10px, #111827 10px 20px);
}

.safety-bar { background: color-mix(in oklab, var(--brand) 10%, transparent); border-bottom: 1px solid rgb(255 255 255 / .06); }
.safety-dot { width: 12px; height: 12px; border-radius: 9999px; background: #22c55e; box-shadow: 0 0 10px #22c55e; }

.card-hazard { position: relative; border: 1px solid rgb(255 255 255 / .08); border-radius: 14px; background: rgb(255 255 255 / .03); }
.card-hazard::before { content: ''; position: absolute; inset: 0 0 auto 0; height: 6px; border-radius: 14px 14px 0 0;
  background: repeating-linear-gradient(-45deg, #fbbf24 0 10px, #111827 10px 20px);
}

.icon { width: 28px; height: 28px; color: color-mix(in oklab, var(--brand) 90%, white); }

/* Utilities */
.avoid-break { break-inside: avoid; }

/* Global responsive media rules */
img, video { max-width: 100%; height: auto; }
iframe, embed, object { max-width: 100%; }
a > img { display: block; }

/* Badge and client logo styles */
.badge-logo { height: 48px; width: auto; max-width: 140px; object-fit: contain; filter: brightness(0.8); transition: filter 0.3s ease; }
.badge-logo:hover { filter: brightness(1); }

.site-logo { height: 40px; width: auto; max-width: 200px; object-fit: contain; }
.site-logo--footer { height: 32px; width: auto; max-width: 160px; object-fit: contain; }

/* Typography tuning for better readability */
body { -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility; }
.prose { max-width: 70ch; }
.prose :where(h1,h2,h3){ letter-spacing: -0.02em; text-wrap: balance; }
.prose :where(p,li){ text-wrap: pretty; }
.prose { 
  --tw-prose-body: rgb(203 213 225);           /* slate-300 */
  --tw-prose-headings: rgb(241 245 249);       /* slate-50 */
  --tw-prose-links: rgb(52 211 153);           /* emerald-400 */
  --tw-prose-bold: rgb(248 250 252);           /* slate-50 */
  --tw-prose-counters: rgb(148 163 184);       /* slate-400 */
  --tw-prose-bullets: rgb(148 163 184);
  --tw-prose-hr: rgb(30 41 59);                /* slate-800 */
  --tw-prose-quotes: rgb(226 232 240);         /* slate-200 */
  --tw-prose-quote-borders: rgb(30 41 59);
  --tw-prose-captions: rgb(148 163 184);
  --tw-prose-code: rgb(244 244 245);           /* zinc-100 */
  --tw-prose-code-bg: rgb(15 23 42 / .6);      /* slate-900/60 */
  --tw-prose-th-borders: rgb(51 65 85);        /* slate-700 */
  --tw-prose-td-borders: rgb(30 41 59);
}
.prose code { padding: .15rem .35rem; border-radius: .375rem; }
.prose pre { background: rgb(2 6 23 / .6); border: 1px solid rgb(255 255 255 / .06); }

/* Fixed presentation for images inside service content */
.service-content img {
  display: block;
  width: 100%;
  max-width: 1200px;
  aspect-ratio: 16 / 9;     /* fixed visual resolution */
  object-fit: cover;        /* crop overflowing sides */
  border-radius: .75rem;    /* match site aesthetic */
  margin-inline: auto;
}
.service-content figure { margin: 1.25rem 0 }
.service-content figure img { margin: 0 }
.service-content .wp-caption, .service-content figcaption { color: rgb(148 163 184); font-size: .875rem; text-align: center }
.sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0 }
html, body { overflow-x: hidden; }
img[loading="lazy"] { content-visibility: auto; }
.lazy-fade img[data-src], img[data-src] { opacity: 0; transition: opacity .35s ease; }
img.loaded { opacity: 1 !important; }
.prose img { border-radius: .75rem; height: auto; }
.prose table { display: block; max-width: 100%; overflow-x: auto; }
.prose iframe, .prose video { max-width: 100%; height: auto; }
